<Window x:Class="CompHomp.BuildModerationWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:converters="clr-namespace:CompHomp.Converters"
        Title="Модерация сборок" 
        Height="600" 
        Width="1000"
        WindowStartupLocation="CenterScreen"
        Background="#FF1E1E1E">
    <Window.Resources>
        <converters:BuildStatusConverter x:Key="StatusConverter"/>
    </Window.Resources>
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Text="Модерация сборок" 
                   Foreground="White" 
                   FontSize="24" 
                   HorizontalAlignment="Center" 
                   Margin="0,0,0,20"/>

        <DataGrid x:Name="BuildsDataGrid" 
                  Grid.Row="1" 
                  AutoGenerateColumns="False" 
                  Background="#FF2D2D2D" 
                  Foreground="Black" 
                  CanUserAddRows="False" 
                  CanUserDeleteRows="False" >
            <DataGrid.Columns>
                <DataGridTextColumn Header="Название" Binding="{Binding Name}"/>
                <DataGridTextColumn Header="Автор" Binding="{Binding User.Login}"/>
                <DataGridTextColumn Header="Описание" Binding="{Binding Description}"/>
                <DataGridTextColumn Header="Цена" Binding="{Binding BasePrice, StringFormat='{}{0:N2} ₽'}"/>
                <DataGridTextColumn Header="Статус" Binding="{Binding Status, Converter={StaticResource StatusConverter}}"/>
                <DataGridTemplateColumn Header="Действия">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <Button Content="Одобрить" 
                                        Tag="{Binding}" 
                                        Click="ApproveBuild" 
                                        Margin="0,0,5,0" 
                                        Style="{StaticResource AdminActionButton}" 
                                        Width="120" Height="40"/>
                                <Button Content="Отклонить" 
                                        Tag="{Binding}" 
                                        Click="RejectBuild" 
                                        Style="{StaticResource AdminActionButton}" 
                                        Width="120" Height="40"/>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>

        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20,0,0">
            <Button x:Name="RefreshButton" Content="Обновить " Margin="0,0,10,0" Style="{StaticResource AdminActionButton}" Width="120" Height="40"/>
            <Button x:Name="CancelButton" Content="Закрыть" Style="{StaticResource AdminActionButton}" Width="120" Height="40"/>
        </StackPanel>
    </Grid>
</Window>
